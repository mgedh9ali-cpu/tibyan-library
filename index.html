<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ÙƒØªØ¨Ø© ØªØ¨ÙŠØ§Ù† Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

<style>
:root{
--p:#2C1B18;--g:#D4AF37;--bg:#FDFCF9;--card:#fff;--text:#2C1B18;--gray:#999;
}
.dark-mode{
--bg:#121212;--card:#1e1e1e;--text:#eee;--p:#D4AF37;
}
body{
margin:0;font-family:Segoe UI,Tahoma;
background:var(--bg);color:var(--text);
padding-bottom:120px;transition:.3s;
}
.main-header{
background:var(--p);color:#fff;text-align:center;
padding:30px;border-radius:0 0 40px 40px;
}
.page-section{display:none;padding:20px}
.active-section{display:block}

.book-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}
.book-card{
background:var(--card);border-radius:25px;padding:15px;
text-align:center;box-shadow:0 8px 15px rgba(0,0,0,.05);
cursor:pointer;
}
.book-card img{
width:100%;height:160px;object-fit:cover;border-radius:15px;margin-bottom:10px;
}

/* Ø§Ù„Ù…Ù‚ØªØ·ÙØ§Øª */
.quote-feed{display:flex;flex-direction:column;gap:18px;margin-top:20px}
.quote-post{
background:var(--card);padding:22px;border-radius:22px;
box-shadow:0 10px 30px rgba(0,0,0,.08);
animation:fade .4s;
}
@keyframes fade{from{opacity:0;transform:translateY(10px)}to{opacity:1}}

.audio-player{
position:fixed;bottom:90px;left:5%;width:90%;
background:var(--p);color:#fff;padding:15px;
border-radius:25px;display:none;gap:15px;z-index:1000;
}

.nav-bar{
position:fixed;bottom:0;width:100%;background:var(--card);
display:flex;justify-content:space-around;padding:15px 0;
}
.nav-item{background:none;border:none;color:var(--gray);font-size:11px;flex:1}
.nav-item i{display:block;font-size:22px}
.nav-item.active{color:var(--p);font-weight:bold}
</style>
</head>

<body>

<header class="main-header">
<h2>Ù…ÙƒØªØ¨Ø© ØªØ¨ÙŠØ§Ù† Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©</h2>
<p style="opacity:.8">Ø¹Ø§Ù„Ù… Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø¨ÙŠÙ† ÙŠØ¯ÙŠÙƒ âœ¨</p>
</header>

<main>

<section id="home" class="page-section active-section">
<div class="book-grid">
<div class="book-card" onclick="playAudio('Ù…Ø®ØªØµØ± Ø²Ø§Ø¯ Ø§Ù„Ù…Ø¹Ø§Ø¯',bookAudio.zad,'zad')">
<img src="https://via.placeholder.com/300/2C1B18/fff?text=Ø²Ø§Ø¯+Ø§Ù„Ù…Ø¹Ø§Ø¯">
<h4>Ù…Ø®ØªØµØ± Ø²Ø§Ø¯ Ø§Ù„Ù…Ø¹Ø§Ø¯</h4>
<small style="color:var(--gray)">ÙƒØªØ§Ø¨ Ø´Ø±Ø¹ÙŠ</small>
</div>
</div>
</section>

<section id="snippets" class="page-section">
<button onclick="generateQuotePost()" style="width:100%;padding:18px;background:var(--g);border:none;border-radius:15px;font-weight:bold">
â• Ø¥Ø¶Ø§ÙØ© Ù…Ù‚ØªØ·Ù
</button>
<div id="quoteFeed" class="quote-feed"></div>
</section>

<section id="profile" class="page-section">
<label>
<input type="checkbox" onchange="toggleDark()"> Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ
</label>
</section>

</main>

<div id="player" class="audio-player">
<i class="fas fa-headphones"></i>
<div style="flex:1">
<div id="track-title" style="font-size:12px;font-weight:bold"></div>
<audio id="mainAudio" controls style="width:100%"></audio>
</div>
<button onclick="closePlayer()">Ã—</button>
</div>

<nav class="nav-bar">
<button class="nav-item active" onclick="nav('home',this)"><i class="fas fa-home"></i>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
<button class="nav-item" onclick="nav('snippets',this)"><i class="fas fa-quote-right"></i>Ù…Ù‚ØªØ·ÙØ§Øª</button>
<button class="nav-item" onclick="nav('profile',this)"><i class="fas fa-user"></i>Ø£Ù†Ø§</button>
</nav>

<!-- Ø£ØµÙˆØ§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© -->
<audio id="uiClick" src="https://assets.mixkit.co/sfx/preview/mixkit-click-1110.mp3"></audio>
<audio id="uiOpen" src="https://assets.mixkit.co/sfx/preview/mixkit-interface-hint-notification-911.mp3"></audio>
<audio id="uiAdd" src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3"></audio>

<script>
/* Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø£ØµÙˆØ§Øª */
const bookAudio={
zad:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"
};

let activeId=null;

/* ØªÙ†Ù‚Ù„ */
function nav(id,btn){
uiClick.play();
document.querySelectorAll('.page-section').forEach(s=>s.classList.remove('active-section'));
document.querySelectorAll('.nav-item').forEach(b=>b.classList.remove('active'));
document.getElementById(id).classList.add('active-section');
btn.classList.add('active');
}

/* ØªØ´ØºÙŠÙ„ ØµÙˆØª ÙƒØªØ§Ø¨ Ù…Ø¹ Ø§Ù„ØªØ°ÙƒØ± */
function playAudio(title,url,id){
uiOpen.play();
activeId=id;
player.style.display='flex';
track-title.innerText=title;
mainAudio.src=url;

const saved=localStorage.getItem('time_'+id);
if(saved) mainAudio.currentTime=Math.max(0,saved-10);

mainAudio.play();
}

/* Ø­ÙØ¸ Ø§Ù„Ù…ÙˆØ¶Ø¹ */
mainAudio.ontimeupdate=function(){
if(activeId)localStorage.setItem('time_'+activeId,this.currentTime);
};

/* Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…Ø´ØºÙ„ */
function closePlayer(){
uiClick.play();
player.style.display='none';
mainAudio.pause();
}

/* Ù…Ù‚ØªØ·ÙØ§Øª */
const quotes=[
"Ù…Ù† Ø£ØµÙ„Ø­ Ø³Ø±ÙŠØ±ØªÙ‡ Ø£ØµÙ„Ø­ Ø§Ù„Ù„Ù‡ Ø¹Ù„Ø§Ù†ÙŠØªÙ‡.",
"Ø§Ù„Ø¹Ù„Ù… Ø¨Ù„Ø§ Ø¹Ù…Ù„ ÙƒØ´Ø¬Ø±Ø© Ø¨Ù„Ø§ Ø«Ù…Ø±.",
"Ø§Ù„Ù‚Ù„Ø¨ Ø¥Ù† Ù„Ù… ÙŠÙØ´ØºÙ„ Ø¨Ø§Ù„Ø­Ù‚ Ø´ÙØºÙ„ Ø¨Ø§Ù„Ø¨Ø§Ø·Ù„."
];

function generateQuotePost(){
uiAdd.play();
const feed=document.getElementById('quoteFeed');
const text=quotes[Math.floor(Math.random()*quotes.length)];
const post=document.createElement('div');
post.className='quote-post';
post.innerHTML=`<strong>ğŸ“œ Ù…Ù‚ØªØ·Ù</strong><p>${text}</p>`;
feed.prepend(post);
}

/* Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ */
function toggleDark(){
document.body.classList.toggle('dark-mode');
uiClick.play();
}
</script>

</body>
</html>
