<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙƒØªØ¨Ø© ØªØ¨ÙŠØ§Ù† | Ù†Ø³Ø®Ø© Ø­ÙŠØ²ÙˆÙ… Ø§Ù„Ù…Ù„ÙƒÙŠØ©</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

    <style>
        /* 1. Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ */
        :root {
            --p: #2C1B18;    /* Ø¨Ù†ÙŠ ØºØ§Ù…Ù‚ Ù…Ù„ÙƒÙŠ */
            --g: #D4AF37;    /* Ø°Ù‡Ø¨ÙŠ */
            --bg: #FDFCF9;   /* Ø®Ù„ÙÙŠØ© ÙˆØ±Ù‚ÙŠØ© */
            --card: #ffffff; 
            --text: #2C1B18;
            --gray: #999;
        }

        .dark-mode {
            --bg: #121212; --card: #1e1e1e; --text: #e0e0e0; --p: #D4AF37; --gray: #bbb;
        }

        body {
            background-color: var(--bg); color: var(--text);
            font-family: 'Segoe UI', Tahoma, sans-serif; margin: 0; padding-bottom: 110px;
            transition: 0.3s; direction: rtl;
        }

        /* 2. Ø§Ù„Ù‡ÙŠØ¯Ø± (Ø±Ø£Ø³ Ø§Ù„ØµÙØ­Ø©) */
        .main-header {
            background: var(--p); color: white; padding: 25px; text-align: center;
            border-radius: 0 0 40px 40px; cursor: pointer;
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        /* 3. Ø§Ù„Ø£Ù‚Ø³Ø§Ù… (Sections) */
        .page-section { display: none; padding: 20px; animation: slideUp 0.4s ease; }
        .active-section { display: block; }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* 4. Ø´Ø¨ÙƒØ© Ø§Ù„ÙƒØªØ¨ (Grid) */
        .book-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; }
        .book-card {
            background: var(--card); border-radius: 20px; padding: 12px; text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05); cursor: pointer; transition: 0.3s;
        }
        .book-card img { width: 100%; border-radius: 15px; height: 150px; object-fit: cover; margin-bottom: 10px; }
        .book-card h4 { margin: 5px 0; font-size: 15px; }

        /* 5. Ù‚Ø§Ø¦Ù…Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø£ØµÙˆØ§Øª (Voice Selector) */
        .voice-list { margin-top: 20px; }
        .voice-card {
            background: var(--card); padding: 15px; margin-bottom: 12px; border-radius: 15px;
            display: flex; justify-content: space-between; align-items: center;
            border: 2px solid transparent; box-shadow: 0 3px 10px rgba(0,0,0,0.03);
        }
        .voice-card.selected { border-color: var(--g); background: #fffcf0; }
        .voice-info b { display: block; font-size: 16px; color: var(--p); }
        .voice-info small { color: #888; font-size: 12px; }

        /* 6. Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª (Audio Player) */
        .audio-player {
            position: fixed; bottom: 85px; width: 92%; left: 4%;
            background: var(--p); color: white; padding: 12px; border-radius: 25px;
            display: none; align-items: center; gap: 12px; z-index: 1000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* 7. Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ (Nav Bar) */
        .nav-bar {
            position: fixed; bottom: 0; width: 100%; background: var(--card);
            display: flex; justify-content: space-around; padding: 15px 0;
            box-shadow: 0 -5px 25px rgba(0,0,0,0.05); z-index: 1100;
        }
        .nav-item { background: none; border: none; color: var(--gray); font-size: 11px; flex: 1; text-align: center; cursor: pointer; }
        .nav-item.active { color: var(--p); font-weight: bold; }
        .nav-item i { display: block; font-size: 24px; margin-bottom: 5px; }
        #admin-btn { display: none; color: var(--g); } /* Ù…Ø®ÙÙŠ Ù„Ù„Ù…Ø§Ù„Ùƒ */

        /* 8. Ø§Ù„Ù…Ù‚ØªØ·ÙØ§Øª ÙˆØ§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ */
        #quoteCard {
            background: white; padding: 25px; border-radius: 20px; border-right: 8px solid var(--g);
            margin-top: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        /* 9. Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ù…Ø¯Ø®Ù„Ø§Øª */
        .setting-item { display: flex; justify-content: space-between; padding: 18px; background: var(--card); border-radius: 20px; margin-bottom: 10px; }
        input, textarea {
            width: 100%; padding: 12px; margin: 8px 0; border-radius: 12px;
            border: 1px solid #ddd; background: var(--card); color: var(--text);
        }
    </style>
</head>
<body onload="startup()">

<header class="main-header" onclick="hizoomSecret()">
    <h3>Ù…ÙƒØªØ¨Ø© ØªØ¨ÙŠØ§Ù† âœ¨</h3>
    <p style="font-size: 11px; opacity: 0.8; margin-top: 5px;">Ø§Ù„Ø£ØµÙˆØ§Øª Ù…ÙØ®ØªØ§Ø±Ø© Ø¨Ø¹Ù†Ø§ÙŠØ© Ù„ØªÙ†Ø§Ø³Ø¨ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø·ÙˆÙŠÙ„Ø© ÙˆØ±Ø§Ø­Ø© Ø§Ù„Ø£Ø°Ù† ğŸ¤</p>
</header>

<main>
    <section id="home" class="page-section active-section">
        <input type="text" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† ÙƒØªØ§Ø¨..." onkeyup="search(this.value)">
        <h4 style="margin: 20px 0 10px;">Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ù…ØªØ§Ø­Ø©:</h4>
        <div id="grid" class="book-grid">
            <div class="book-card" onclick="openVoices('Ø²Ø§Ø¯ Ø§Ù„Ù…Ø¹Ø§Ø¯')">
                <img src="https://via.placeholder.com/150/2C1B18/white?text=Ø²Ø§Ø¯+Ø§Ù„Ù…Ø¹Ø§Ø¯">
                <h4>Ù…Ø®ØªØµØ± Ø²Ø§Ø¯ Ø§Ù„Ù…Ø¹Ø§Ø¯</h4>
                <small style="color:var(--g)">Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙˆØ§Øª ğŸ§</small>
            </div>
        </div>
    </section>

    <section id="voices" class="page-section">
        <button onclick="nav('home', document.querySelector('.fa-home'))" style="background:none; border:none; color:var(--p); font-weight:bold; margin-bottom:15px;"><i class="fas fa-chevron-right"></i> Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…ÙƒØªØ¨Ø©</button>
        <h4 id="voice-target-title">Ø§Ø®ØªØ± Ù†Ø¨Ø±Ø© Ø§Ù„ØµÙˆØª:</h4>
        <div class="voice-list">
            <div class="voice-card" onclick="playWithVoice('ØµÙˆØª Ø§Ù„Ù…ÙƒØªØ¨Ø© ğŸ“š', 'ar-XA-Wavenet-B')">
                <div class="voice-info"><b>ØµÙˆØª Ø§Ù„Ù…ÙƒØªØ¨Ø© ğŸ“š</b><small>Ø±Ø¬Ù„ Ù‡Ø§Ø¯Ø¦ØŒ Ø¯Ø§ÙØ¦ (Ù„Ù„ÙÙƒØ± ÙˆØ§Ù„Ø´Ø±Ø¹ÙŠ)</small></div>
                <i class="fas fa-play-circle" style="color:var(--g); font-size:20px;"></i>
            </div>
            <div class="voice-card" onclick="playWithVoice('ØµÙˆØª Ø§Ù„Ù…Ø¹Ø±ÙØ© ğŸ§ ', 'ar-XA-Wavenet-D')">
                <div class="voice-info"><b>ØµÙˆØª Ø§Ù„Ù…Ø¹Ø±ÙØ© ğŸ§ </b><small>ÙˆØ§Ø¶Ø­ ÙˆÙ…Ø­Ø§ÙŠØ¯ (Ù„Ù„Ø¹Ù„Ù…ÙŠ ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ)</small></div>
                <i class="fas fa-play-circle" style="color:var(--g); font-size:20px;"></i>
            </div>
            <div class="voice-card" onclick="playWithVoice('ØµÙˆØª Ø§Ù„Ø£Ø¯Ø¨ âœï¸', 'ar-SA-HamedNeural')">
                <div class="voice-info"><b>ØµÙˆØª Ø§Ù„Ø£Ø¯Ø¨ âœï¸</b><small>Ù†Ø¨Ø±Ø© Ø¥Ù†Ø³Ø§Ù†ÙŠØ© Ø¯Ø§ÙØ¦Ø© (Ù„Ù„Ø±ÙˆØ§ÙŠØ§Øª)</small></div>
                <i class="fas fa-play-circle" style="color:var(--g); font-size:20px;"></i>
            </div>
            <div class="voice-card" onclick="playWithVoice('ØµÙˆØª Ù‡Ø§Ø¯Ø¦ ğŸ¤', 'ar-SA-ZariyahNeural')">
                <div class="voice-info"><b>ØµÙˆØª Ù‡Ø§Ø¯Ø¦ ğŸ¤</b><small>Ù†Ø¨Ø±Ø© Ø£Ù†Ø«ÙˆÙŠØ© Ù…Ø±ÙŠØ­Ø© (Ù„Ù„Ù…Ù‚ØªØ·ÙØ§Øª)</small></div>
                <i class="fas fa-play-circle" style="color:var(--g); font-size:20px;"></i>
            </div>
            <div class="voice-card" onclick="playWithVoice('ØµÙˆØª Ø§Ù„Ù„ÙŠÙ„ ğŸŒ™', 'night')">
                <div class="voice-info"><b>ØµÙˆØª Ø§Ù„Ù„ÙŠÙ„ ğŸŒ™</b><small>Ù…Ù†Ø®ÙØ¶ ÙˆØ¨Ø·ÙŠØ¡ (Ù‚Ø¨Ù„ Ø§Ù„Ù†ÙˆÙ…)</small></div>
                <i class="fas fa-play-circle" style="color:var(--g); font-size:20px;"></i>
            </div>
        </div>
    </section>

    <section id="snippets" class="page-section">
        <button onclick="generateAI()" style="width:100%; padding:15px; background:var(--g); border:none; border-radius:15px; font-weight:bold; font-size:16px;">ØªÙˆÙ„ÙŠØ¯ Ù…Ù‚ØªØ·Ù Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠ âœ¨</button>
        <div id="quoteCard" style="display:none;">
            <p id="quoteText" style="font-size:18px; line-height:1.6;"></p>
            <small style="color:#888;">â€” ÙƒØ­ÙŠÙ„Ø§Ù† Ø§Ù„Ø­ÙƒÙŠÙ…</small>
        </div>
    </section>

    <section id="admin" class="page-section">
        <div style="background:var(--card); padding:20px; border-radius:25px;">
            <h3 style="margin-top:0;">Ø¥Ø¶Ø§ÙØ© ÙƒØªØ§Ø¨ Ø¬Ø¯ÙŠØ¯ ğŸš€</h3>
            <input type="text" id="newT" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØªØ§Ø¨">
            <input type="text" id="newI" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù">
            <button onclick="saveBook()" style="width:100%; padding:15px; background:var(--p); color:white; border:none; border-radius:15px; font-weight:bold;">Ù†Ø´Ø± ÙÙŠ Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¹Ø§Ù…Ø©</button>
        </div>
    </section>

    <section id="profile" class="page-section">
        <div class="setting-item"><span>Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ù„ÙŠÙ„ÙŠ</span><button onclick="toggleDark()" style="background:none; border:none; color:var(--g); font-size:20px;"><i class="fas fa-moon"></i></button></div>
        <div class="setting-item"><span>Ø³Ø±Ø¹Ø© Ø§Ù„ØµÙˆØª 1.5x</span><button onclick="toggleSpeed()" id="speedBtn" style="background:none; border:none; color:var(--gray); font-size:20px;"><i class="fas fa-bolt"></i></button></div>
    </section>
</main>

<div id="player" class="audio-player">
    <div style="flex:1">
        <div id="track-info" style="font-size:11px; font-weight:bold; margin-bottom:5px;">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ´ØºÙŠÙ„...</div>
        <audio id="mainAudio" controls style="width:100%; height:30px;"></audio>
    </div>
    <button onclick="document.getElementById('player').style.display='none'" style="background:none; border:none; color:white; font-size:20px;">Ã—</button>
</div>

<nav class="nav-bar">
    <button class="nav-item active" onclick="nav('home', this)"><i class="fas fa-home"></i>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</button>
    <button class="nav-item" onclick="nav('snippets', this)"><i class="fas fa-quote-right"></i>Ù…Ù‚ØªØ·ÙØ§Øª</button>
    <button id="admin-btn" class="nav-item" onclick="nav('admin', this)"><i class="fas fa-plus-circle"></i>Ø¥Ø¶Ø§ÙØ©</button>
    <button class="nav-item" onclick="nav('profile', this)"><i class="fas fa-user-circle"></i>Ø£Ù†Ø§</button>
</nav>

<script>
    let clicks = 0;
    const audio = document.getElementById('mainAudio');
    const MY_KEY = "AIzaSyC_Q_wn2HmNoEGaTAbflvivPklJD2I_5pU";

    function startup() {
        if(localStorage.getItem('hizoom_admin') === 'true') {
            document.getElementById('admin-btn').style.display = 'block';
        }
        loadBooks();
    }

    function hizoomSecret() {
        clicks++;
        if(clicks >= 5) {
            localStorage.setItem('hizoom_admin', 'true');
            startup();
            alert("ØªÙ… ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø§Ù„Ùƒ! Ù‡Ù„Ù‚ Ø²Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ© ØµØ§Ø± Ø¹Ù†Ø¯Ùƒ ÙŠØ§ Ø­ÙŠØ²ÙˆÙ… ğŸ¦¾");
            clicks = 0;
        }
    }

    function nav(id, btn) {
        document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active-section'));
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        document.getElementById(id).classList.add('active-section');
        btn.classList.add('active');
    }

    function openVoices(title) {
        document.getElementById('voice-target-title').innerText = "ÙƒØªØ§Ø¨: " + title;
        nav('voices', document.querySelector('.fa-home'));
    }

    function playWithVoice(voiceName, voiceId) {
        document.getElementById('player').style.display = 'flex';
        document.getElementById('track-info').innerText = "ØªØ´ØºÙŠÙ„ Ø¨Ù€: " + voiceName;
        // Ù…Ù„Ø§Ø­Ø¸Ø© Ù„Ù„Ù…Ø¨Ø±Ù…Ø¬: ÙŠØªÙ… Ø±Ø¨Ø· voiceId Ù…Ø¹ API Ø§Ù„ØµÙˆØª Ù‡Ù†Ø§
        audio.src = "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"; 
        audio.play();
    }

    function search(q) {
        document.querySelectorAll('.book-card').forEach(c => {
            c.style.display = c.innerText.toLowerCase().includes(q.toLowerCase()) ? 'block' : 'none';
        });
    }

    async function generateAI() {
        const card = document.getElementById('quoteCard');
        const txt = document.getElementById('quoteText');
        card.style.display = 'block';
        txt.innerText = "ÙƒØ­ÙŠÙ„Ø§Ù† Ø¹Ù… ÙŠÙØªØ´ Ø¨Ø§Ù„ÙƒØªØ¨... â³";
        try {
            const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${MY_KEY}`, {
                method: "POST", headers: {"Content-Type": "application/json"},
                body: JSON.stringify({contents: [{parts: [{text: "Ø£Ø¹Ø·Ù†ÙŠ Ù…Ù‚ØªØ·ÙØ§Ù‹ Ø´Ø±Ø¹ÙŠØ§Ù‹ Ø£Ùˆ Ø£Ø¯Ø¨ÙŠØ§Ù‹ Ø¨Ù„Ù‡Ø¬Ø© Ø¥Ø¯Ù„Ø¨ÙŠØ© Ø¯Ø§ÙØ¦Ø© ÙˆÙ…Ø­ÙØ²Ø©."}]}]})
            });
            const d = await res.json();
            txt.innerText = d.candidates[0].content.parts[0].text;
        } catch { txt.innerText = "Ø§Ù„Ù†Øª Ø¶Ø¹ÙŠÙØŒ Ø¬Ø±Ø¨ Ù…Ø±Ø© ØªØ§Ù†ÙŠØ© ÙŠØ§ Ø­ÙŠØ²ÙˆÙ…!"; }
    }

    function saveBook() {
        const t = document.getElementById('newT').value;
        const i = document.getElementById('newI').value || 'https://via.placeholder.com/150';
        if(!t) return alert("Ø¹Ø¨ÙŠ Ø§Ù„Ø§Ø³Ù… ÙŠØ§ ØºØ§Ù„ÙŠ!");
        let books = JSON.parse(localStorage.getItem('hizoom_books')) || [];
        books.push({t, i});
        localStorage.setItem('hizoom_books', JSON.stringify(books));
        loadBooks();
        nav('home', document.querySelector('.fa-home'));
    }

    function loadBooks() {
        const grid = document.getElementById('grid');
        let books = JSON.parse(localStorage.getItem('hizoom_books')) || [];
        grid.innerHTML = `<div class="book-card" onclick="openVoices('Ø²Ø§Ø¯ Ø§Ù„Ù…Ø¹Ø§Ø¯')"><img src="https://via.placeholder.com/150/2C1B18/white?text=Ø²Ø§Ø¯+Ø§Ù„Ù…Ø¹Ø§Ø¯"><h4>Ù…Ø®ØªØµØ± Ø²Ø§Ø¯ Ø§Ù„Ù…Ø¹Ø§Ø¯</h4><small style="color:var(--g)">Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙˆØ§Øª ğŸ§</small></div>`;
        books.forEach(b => {
            grid.innerHTML += `<div class="book-card" onclick="openVoices('${b.t}')"><img src="${b.i}"><h4>${b.t}</h4><small style="color:var(--g)">Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙˆØ§Øª ğŸ§</small></div>`;
        });
    }

    function toggleDark() { document.body.classList.toggle('dark-mode'); }
    function toggleSpeed() {
        audio.playbackRate = audio.playbackRate === 1 ? 1.5 : 1;
        document.getElementById('speedBtn').style.color = audio.playbackRate === 1.5 ? 'var(--g)' : 'var(--gray)';
    }
</script>
</body>
</html>
