<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
ย ย <meta charset="UTF-8">
ย ย <meta name="viewport" content="width=device-width, initial-scale=1.0">
ย ย <title>ููุชุจุฉ ุชุจูุงู ุงูุฅููุชุฑูููุฉ | ูุณุฎุฉ ุญูุฒูู</title>
ย ยย
ย ย <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
ย ย <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

ย ย <style>
ย ย ย ย /* 1. ุชุนุฑูู ุงูุฃููุงู ูุงููุชุบูุฑุงุช */
ย ย ย ย :root {
ย ย ย ย ย ย --p: #2C1B18;ย ย /* ุจูู ุบุงูู */
ย ย ย ย ย ย --g: #D4AF37;ย ย /* ุฐูุจู */
ย ย ย ย ย ย --bg: #FDFCF9;ย ย/* ุฎูููุฉ ูุงุชุญุฉ */
ย ย ย ย ย ย --card: #ffffff; /* ููู ุงููุฑุช */
ย ย ย ย ย ย --text: #2C1B18; /* ููู ุงููุต */
ย ย ย ย ย ย --gray: #999;
ย ย ย ย }

ย ย ย ย /* 2. ูุถุน ุงููุฑุงุกุฉ (ุงููุถุน ุงููููู) */
ย ย ย ย .dark-mode {
ย ย ย ย ย ย --bg: #121212;
ย ย ย ย ย ย --card: #1e1e1e;
ย ย ย ย ย ย --text: #e0e0e0;
ย ย ย ย ย ย --p: #D4AF37;
ย ย ย ย ย ย --gray: #bbb;
ย ย ย ย }

ย ย ย ย /* 3. ุงูุชูุณูู ุงูุนุงู ููุฌุณู */
ย ย ย ย body {
ย ย ย ย ย ย background-color: var(--bg);
ย ย ย ย ย ย color: var(--text);
ย ย ย ย ย ย font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
ย ย ย ย ย ย margin: 0;
ย ย ย ย ย ย padding-bottom: 110px; /* ูุณุงุญุฉ ููุดุฑูุท ุงูุณููู */
ย ย ย ย ย ย transition: all 0.3s ease;
ย ย ย ย ย ย direction: rtl;
ย ย ย ย }

ย ย ย ย /* 4. ุงูููุฏุฑ (ุฑุฃุณ ุงูุตูุญุฉ) */
ย ย ย ย .main-header {
ย ย ย ย ย ย background-color: var(--p);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย padding: 30px 20px;
ย ย ย ย ย ย text-align: center;
ย ย ย ย ย ย border-radius: 0 0 40px 40px;
ย ย ย ย ย ย box-shadow: 0 10px 20px rgba(0,0,0,0.1);
ย ย ย ย }

ย ย ย ย /* 5. ุดุฑูุท ุงูุจุญุซ */
ย ย ย ย .search-container {
ย ย ย ย ย ย padding: 20px;
ย ย ย ย ย ย position: sticky;
ย ย ย ย ย ย top: 0;
ย ย ย ย ย ย background: var(--bg);
ย ย ย ย ย ย z-index: 100;
ย ย ย ย }
ย ย ย ย .search-bar {
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย padding: 15px;
ย ย ย ย ย ย border-radius: 20px;
ย ย ย ย ย ย border: 2px solid var(--p);
ย ย ย ย ย ย background: var(--card);
ย ย ย ย ย ย color: var(--text);
ย ย ย ย ย ย outline: none;
ย ย ย ย ย ย box-sizing: border-box;
ย ย ย ย ย ย font-size: 16px;
ย ย ย ย }

ย ย ย ย /* 6. ุดุจูุฉ ุงููุชุจ (Grid) */
ย ย ย ย .book-grid {
ย ย ย ย ย ย display: grid;
ย ย ย ย ย ย grid-template-columns: repeat(2, 1fr);
ย ย ย ย ย ย gap: 20px;
ย ย ย ย ย ย padding: 20px;
ย ย ย ย }
ย ย ย ย .book-card {
ย ย ย ย ย ย background: var(--card);
ย ย ย ย ย ย border-radius: 25px;
ย ย ย ย ย ย padding: 15px;
ย ย ย ย ย ย text-align: center;
ย ย ย ย ย ย box-shadow: 0 8px 15px rgba(0,0,0,0.05);
ย ย ย ย ย ย transition: transform 0.3s ease;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย }
ย ย ย ย .book-card:active { transform: scale(0.95); }
ย ย ย ย .book-card img {
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย border-radius: 15px;
ย ย ย ย ย ย height: 160px;
ย ย ย ย ย ย object-fit: cover;
ย ย ย ย ย ย margin-bottom: 10px;
ย ย ย ย }

ย ย ย ย /* 7. ุงูุฃูุณุงู ุงููุฎููุฉ */
ย ย ย ย .page-section {
ย ย ย ย ย ย display: none;
ย ย ย ย ย ย padding: 20px;
ย ย ย ย ย ย animation: slideUp 0.5s ease;
ย ย ย ย }
ย ย ย ย .active-section { display: block; }
ย ย ย ย @keyframes slideUp {
ย ย ย ย ย ย from { opacity: 0; transform: translateY(20px); }
ย ย ย ย ย ย to { opacity: 1; transform: translateY(0); }
ย ย ย ย }

ย ย ย ย /* 8. ููุงุชูุญ ุงูุชุจุฏูู (Toggles) ุจุตูุญุฉ ุฃูุง */
ย ย ย ย .setting-item {
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย justify-content: space-between;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย padding: 18px;
ย ย ย ย ย ย background: var(--card);
ย ย ย ย ย ย margin-bottom: 12px;
ย ย ย ย ย ย border-radius: 20px;
ย ย ย ย ย ย box-shadow: 0 4px 10px rgba(0,0,0,0.03);
ย ย ย ย }
ย ย ย ย .switch {
ย ย ย ย ย ย position: relative;
ย ย ย ย ย ย display: inline-block;
ย ย ย ย ย ย width: 50px;
ย ย ย ย ย ย height: 26px;
ย ย ย ย }
ย ย ย ย .switch input { opacity: 0; width: 0; height: 0; }
ย ย ย ย .slider {
ย ย ย ย ย ย position: absolute;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย top: 0; left: 0; right: 0; bottom: 0;
ย ย ย ย ย ย background-color: #ccc;
ย ย ย ย ย ย transition: .4s;
ย ย ย ย ย ย border-radius: 34px;
ย ย ย ย }
ย ย ย ย .slider:before {
ย ย ย ย ย ย position: absolute;
ย ย ย ย ย ย content: "";
ย ย ย ย ย ย height: 20px; width: 20px;
ย ย ย ย ย ย left: 3px; bottom: 3px;
ย ย ย ย ย ย background-color: white;
ย ย ย ย ย ย transition: .4s;
ย ย ย ย ย ย border-radius: 50%;
ย ย ย ย }
ย ย ย ย input:checked + .slider { background-color: var(--g); }
ย ย ย ย input:checked + .slider:before { transform: translateX(24px); }

ย ย ย ย /* 9. ูุดุบู ุงูุตูุช ุงูุนุงุฆู */
ย ย ย ย .audio-player {
ย ย ย ย ย ย position: fixed;
ย ย ย ย ย ย bottom: 90px;
ย ย ย ย ย ย width: 90%;
ย ย ย ย ย ย left: 5%;
ย ย ย ย ย ย background: var(--p);
ย ย ย ย ย ย color: white;
ย ย ย ย ย ย padding: 15px;
ย ย ย ย ย ย border-radius: 25px;
ย ย ย ย ย ย display: none;
ย ย ย ย ย ย align-items: center;
ย ย ย ย ย ย gap: 15px;
ย ย ย ย ย ย z-index: 1000;
ย ย ย ย ย ย box-shadow: 0 10px 30px rgba(0,0,0,0.3);
ย ย ย ย }

ย ย ย ย /* 10. ุงูุดุฑูุท ุงูุณููู */
ย ย ย ย .nav-bar {
ย ย ย ย ย ย position: fixed;
ย ย ย ย ย ย bottom: 0;
ย ย ย ย ย ย width: 100%;
ย ย ย ย ย ย background: var(--card);
ย ย ย ย ย ย display: flex;
ย ย ย ย ย ย justify-content: space-around;
ย ย ย ย ย ย padding: 15px 0;
ย ย ย ย ย ย box-shadow: 0 -5px 25px rgba(0,0,0,0.05);
ย ย ย ย ย ย z-index: 1100;
ย ย ย ย }
ย ย ย ย .nav-item {
ย ย ย ย ย ย background: none;
ย ย ย ย ย ย border: none;
ย ย ย ย ย ย color: var(--gray);
ย ย ย ย ย ย font-size: 11px;
ย ย ย ย ย ย cursor: pointer;
ย ย ย ย ย ย flex: 1;
ย ย ย ย ย ย transition: 0.3s;
ย ย ย ย }
ย ย ย ย .nav-item i { display: block; font-size: 24px; margin-bottom: 5px; }
ย ย ย ย .nav-item.active { color: var(--p); font-weight: bold; }

ย ย ย ย /* 11. ูุฑุช ุงูููุชุทูุงุช */
ย ย ย ย #quoteCard {
ย ย ย ย ย ย background: white;
ย ย ย ย ย ย padding: 30px;
ย ย ย ย ย ย border-radius: 25px;
ย ย ย ย ย ย border-right: 8px solid var(--g);
ย ย ย ย ย ย color: #2C1B18;
ย ย ย ย ย ย margin-top: 20px;
ย ย ย ย ย ย box-shadow: 0 15px 40px rgba(0,0,0,0.1);
ย ย ย ย }
ย ย </style>
</head>
<body>

<header class="main-header">
ย ย <h2 style="margin:0;">ููุชุจุฉ ุชุจูุงู ุงูุฅููุชุฑูููุฉ</h2>
ย ย <p style="margin:5px 0 0; font-size:14px; opacity:0.8;">ุนุงูู ุงููุนุฑูุฉ ุจูู ูุฏูู ูุง ุญูุฒูู โจ</p>
</header>

<main>
ย ย <section id="home" class="page-section active-section">
ย ย ย ย <div class="search-container">
ย ย ย ย ย ย <input type="text" id="searchInput" class="search-bar" placeholder="ุงุจุญุซ ุนู ูุชุงุจ ุฃู ูุตูุฏุฉ..." onkeyup="searchBooks()">
ย ย ย ย </div>
ย ย ย ย <div id="grid" class="book-grid">
ย ย ย ย ย ย <div class="book-card" onclick="playAudio('ุฒุงุฏ ุงููุนุงุฏ', 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3', 'b1')">
ย ย ย ย ย ย ย ย <img src="https://via.placeholder.com/150/2C1B18/white?text=ุฒุงุฏ+ุงููุนุงุฏ">
ย ย ย ย ย ย ย ย <h4>ูุฎุชุตุฑ ุฒุงุฏ ุงููุนุงุฏ</h4>
ย ย ย ย ย ย ย ย <small style="color:var(--gray)">ูุชุงุจ ุดุฑุนู ูุฎุชุจุฑ</small>
ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย </section>

ย ย <section id="mylist" class="page-section">
ย ย ย ย <h3>โญ ูุชุจู ููุตุงุฆุฏู ุงูููุถูุฉ</h3>
ย ย ย ย <div id="mylist-items" class="book-grid">
ย ย ย ย ย ย <p style="grid-column: 1/3; text-align: center; color: var(--gray);">ูุง ููุฌุฏ ูุชุจ ููุง ุญุงููุงู..</p>
ย ย ย ย </div>
ย ย </section>

ย ย <section id="snippets" class="page-section">
ย ย ย ย <div style="background:var(--p); color:white; padding:20px; border-radius:20px; margin-bottom:20px;">
ย ย ย ย ย ย <h3>๐ ููุชุทูุงุช ุฐููุฉ</h3>
ย ย ย ย ย ย <p style="font-size:13px;">ุชูููุฏ ุงูุชุจุงุณุงุช ุจุงูุฐูุงุก ุงูุตูุงุนู ูุน ุฅููุงููุฉ ุญูุธูุง ูุตูุฑุฉ.</p>
ย ย ย ย </div>
ย ย ย ยย
ย ย ย ย <button onclick="generateAIQuote()" style="width:100%; padding:18px; background:var(--g); border:none; border-radius:15px; font-weight:bold; color:var(--p); font-size:16px;">
ย ย ย ย ย ย ุชูููุฏ ููุชุทู ุฌุฏูุฏ โจ
ย ย ย ย </button>

ย ย ย ย <div id="quoteContainer" style="display:none; margin-top:25px;">
ย ย ย ย ย ย <div id="quoteCard">
ย ย ย ย ย ย ย ย <div style="display:flex; align-items:center; gap:10px; margin-bottom:15px; border-bottom:1px solid #eee; padding-bottom:10px;">
ย ย ย ย ย ย ย ย ย ย <img src="https://via.placeholder.com/40?text=T" style="border-radius:50%;">
ย ย ย ย ย ย ย ย ย ย <span style="font-weight:bold;">ููุชุจุฉ ุชุจูุงู</span>
ย ย ย ย ย ย ย ย </div>
ย ย ย ย ย ย ย ย <p id="quoteText" style="font-size:18px; line-height:1.6; font-weight:500;"></p>
ย ย ย ย ย ย ย ย <small style="color:#888; display:block; margin-top:10px; text-align:left;">โ ุจูุงุณุทุฉ ูุญููุงู AI</small>
ย ย ย ย ย ย </div>
ย ย ย ย ย ย <button onclick="downloadQuote()" style="width:100%; margin-top:15px; padding:15px; background:#25D366; color:white; border:none; border-radius:15px; font-weight:bold;">
ย ย ย ย ย ย ย ย <i class="fas fa-download"></i> ุญูุธ ุงูุตูุฑุฉ ูููุดุงุฑูุฉ
ย ย ย ย ย ย </button>
ย ย ย ย </div>
ย ย </section>

ย ย <section id="profile" class="page-section">
ย ย ย ย <div style="text-align:center; padding:30px; background:var(--card); border-radius:30px; margin-bottom:20px;">
ย ย ย ย ย ย <i class="fas fa-user-circle" style="font-size:80px; color:var(--g)"></i>
ย ย ย ย ย ย <h2 style="margin:10px 0;">ุญูุฒูู</h2>
ย ย ย ย ย ย <p style="color:var(--gray); margin:0;">ุทุงูุจ ุซููู ุดุฑุนู ุนููู ๐</p>
ย ย ย ย </div>

ย ย ย ย <h4 style="margin-right:10px;"><i class="fas fa-cog"></i> ุชูุถููุงุช ุงููุณุชุฎุฏู</h4>
ย ย ย ยย
ย ย ย ย <div class="setting-item">
ย ย ย ย ย ย <span><i class="fas fa-moon"></i> ุงููุถุน ุงููููู</span>
ย ย ย ย ย ย <label class="switch"><input type="checkbox" id="darkToggle" onchange="toggleDark()"><span class="slider"></span></label>
ย ย ย ย </div>

ย ย ย ย <div class="setting-item">
ย ย ย ย ย ย <span><i class="fas fa-bolt"></i> ุณุฑุนุฉ ุงูุงุณุชูุงุน (1.5x)</span>
ย ย ย ย ย ย <label class="switch"><input type="checkbox" id="speedToggle" onchange="toggleSpeed()"><span class="slider"></span></label>
ย ย ย ย </div>

ย ย ย ย <div class="setting-item">
ย ย ย ย ย ย <span><i class="fas fa-bell"></i> ุชูุจูู ุงููุฑุฏ ุงููููู</span>
ย ย ย ย ย ย <label class="switch"><input type="checkbox" id="notifToggle"><span class="slider"></span></label>
ย ย ย ย </div>

ย ย ย ย <div style="background:var(--card); padding:20px; border-radius:25px; margin-top:20px;">
ย ย ย ย ย ย <h4>๐ก ุชุฑุดูุญุงุช ูุญููุงู ูู</h4>
ย ย ย ย ย ย <div id="recList" style="display:flex; gap:12px; overflow-x:auto; padding:10px 0;">
ย ย ย ย ย ย ย ย <p style="font-size:12px; color:var(--gray);">ุงุถุบุท ุนูู "ุฃูุง" ูุชุญุฏูุซ ุงูุชุฑุดูุญุงุช...</p>
ย ย ย ย ย ย </div>
ย ย ย ย </div>
ย ย </section>

ย ย <section id="owner" class="page-section">
ย ย ย ย <h3>๐๏ธ ุฅุฏุงุฑุฉ ุงูููุชุจุฉ (ุญูุฒูู)</h3>
ย ย ย ย <div style="background:var(--card); padding:25px; border-radius:25px;">
ย ย ย ย ย ย <label>ุงุณู ุงููุชุงุจ:</label>
ย ย ย ย ย ย <input type="text" id="bTitle" class="search-bar" style="border:1px solid #ddd; margin-bottom:15px;">
ย ย ย ย ย ยย
ย ย ย ย ย ย <label>ุฑุงุจุท ุงูุตูุช (MP3):</label>
ย ย ย ย ย ย <input type="text" id="bAudio" class="search-bar" style="border:1px solid #ddd; margin-bottom:15px;">
ย ย ย ย ย ยย
ย ย ย ย ย ย <label>ุฑุงุจุท ุงูุตูุฑุฉ:</label>
ย ย ย ย ย ย <input type="text" id="bImg" class="search-bar" style="border:1px solid #ddd; margin-bottom:15px;">
ย ย ย ย ย ยย
ย ย ย ย ย ย <button onclick="addNewBook()" style="width:100%; padding:18px; background:var(--p); color:white; border:none; border-radius:15px; font-weight:bold; font-size:16px;">
ย ย ย ย ย ย ย ย ูุดุฑ ุงููุชุงุจ ุงูุขู ๐
ย ย ย ย ย ย </button>
ย ย ย ย </div>
ย ย </section>
</main>

<div id="player" class="audio-player">
ย ย <i class="fas fa-play-circle" style="font-size:30px; color:var(--g);"></i>
ย ย <div style="flex:1">
ย ย ย ย <div id="track-title" style="font-size:12px; font-weight:bold; margin-bottom:5px;">ุงุณู ุงูููุทุน</div>
ย ย ย ย <audio id="mainAudio" controls style="width:100%; height:35px;"></audio>
ย ย </div>
ย ย <button onclick="document.getElementById('player').style.display='none'" style="background:none; border:none; color:white; font-size:25px;">ร</button>
</div>

<nav class="nav-bar">
ย ย <button class="nav-item active" onclick="nav('home', this)"><i class="fas fa-home"></i>ุงูุฑุฆูุณูุฉ</button>
ย ย <button class="nav-item" onclick="nav('mylist', this)"><i class="fas fa-star"></i>ูุงุฆูุชู</button>
ย ย <button class="nav-item" onclick="nav('snippets', this)"><i class="fas fa-quote-right"></i>ููุชุทูุงุช</button>
ย ย <button class="nav-item" onclick="nav('profile', this)"><i class="fas fa-user-cog"></i>ุฃูุง</button>
ย ย <button class="nav-item" onclick="nav('owner', this)"><i class="fas fa-plus-circle"></i>ุฅุถุงูุฉ</button>
</nav>

<script>
ย ย // ููุชุงุญ ุงูุฐูุงุก ุงูุตูุงุนู ุงูุฎุงุต ุจู
ย ย const MY_KEY = "AIzaSyC_Q_wn2HmNoEGaTAbflvivPklJD2I_5pU";
ย ย let activeId = null;

ย ย // ูุธููุฉ ุงูุชููู ุจูู ุงูุฃูุณุงู
ย ย function nav(id, btn) {
ย ย ย ย document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active-section'));
ย ย ย ย document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
ย ย ย ย document.getElementById(id).classList.add('active-section');
ย ย ย ย btn.classList.add('active');
ย ย ย ย if(id === 'profile') loadRecs();
ย ย }

ย ย // ูุธููุฉ ุชุดุบูู ุงูุตูุช ูุน ููุฒุฉ (10 ุซูุงูู)
ย ย function playAudio(title, url, id) {
ย ย ย ย activeId = id;
ย ย ย ย const player = document.getElementById('player');
ย ย ย ย const audio = document.getElementById('mainAudio');
ย ย ย ย const savedTime = localStorage.getItem('time_' + id);
ย ย ย ยย
ย ย ย ย document.getElementById('track-title').innerText = title;
ย ย ย ย audio.src = url;
ย ย ย ย player.style.display = 'flex';
ย ย ย ยย
ย ย ย ย if(savedTime) {
ย ย ย ย ย ย audio.currentTime = Math.max(0, parseFloat(savedTime) - 10);
ย ย ย ย }
ย ย ย ย audio.play();
ย ย }

ย ย // ุญูุธ ุงูููุช ุชููุงุฆูุงู
ย ย document.getElementById('mainAudio').ontimeupdate = function() {
ย ย ย ย if(activeId) localStorage.setItem('time_' + activeId, this.currentTime);
ย ย };

ย ย // ูุธููุฉ ุงูุจุญุซ
ย ย function searchBooks() {
ย ย ย ย let val = document.getElementById('searchInput').value.toLowerCase();
ย ย ย ย document.querySelectorAll('.book-card').forEach(card => {
ย ย ย ย ย ย let title = card.querySelector('h4').innerText.toLowerCase();
ย ย ย ย ย ย card.style.display = title.includes(val) ? 'block' : 'none';
ย ย ย ย });
ย ย }

ย ย // ุชูููุฏ ููุชุทู ุจุงูุฐูุงุก ุงูุตูุงุนู
ย ย async function generateAIQuote() {
ย ย ย ย const text = document.getElementById('quoteText');
ย ย ย ย document.getElementById('quoteContainer').style.display = 'block';
ย ย ย ย text.innerText = "ูุญููุงู ุนู ูุจุญุซ ูู ุฃููุงุช ุงููุชุจ... โ";

ย ย ย ย try {
ย ย ย ย ย ย const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${MY_KEY}`, {
ย ย ย ย ย ย ย ย method: "POST",
ย ย ย ย ย ย ย ย headers: {"Content-Type": "application/json"},
ย ย ย ย ย ย ย ย body: JSON.stringify({contents: [{parts: [{text: "ุฃุนุทูู ููุชุทูุงู ุดุฑุนูุงู ุจููุบุงู ููุตูุฑุงู ุจููุฌุฉ ุฅุฏูุจูุฉ ูุญูุฒุฉ ูุฃูู ูุญููุงู ุงูุญููู."}]}]})
ย ย ย ย ย ย });
ย ย ย ย ย ย const data = await res.json();
ย ย ย ย ย ย text.innerText = data.candidates[0].content.parts[0].text;
ย ย ย ย } catch(e) { text.innerText = "ุชุนุฐุฑ ุงูุงุชุตุงู ุจูุญููุงูุ ุญุงูู ูุงุญูุงู!"; }
ย ย }

ย ย // ุญูุธ ุงูููุชุทู ูุตูุฑุฉ
ย ย function downloadQuote() {
ย ย ย ย html2canvas(document.getElementById('quoteCard'), {scale: 3}).then(canvas => {
ย ย ย ย ย ย const link = document.createElement('a');
ย ย ย ย ย ย link.download = 'Tebyan_Quote_' + Date.now() + '.png';
ย ย ย ย ย ย link.href = canvas.toDataURL();
ย ย ย ย ย ย link.click();
ย ย ย ย });
ย ย }

ย ย // ุฅุนุฏุงุฏุงุช (ุฃูุง)
ย ย function toggleDark() { document.body.classList.toggle('dark-mode'); }
ย ย function toggleSpeed() {
ย ย ย ย const audio = document.getElementById('mainAudio');
ย ย ย ย audio.playbackRate = document.getElementById('speedToggle').checked ? 1.5 : 1.0;
ย ย }

ย ย // ุชุฑุดูุญุงุช ูุญููุงู ุงูุฐููุฉ
ย ย async function loadRecs() {
ย ย ย ย const list = document.getElementById('recList');
ย ย ย ย list.innerHTML = '...';
ย ย ย ย try {
ย ย ย ย ย ย const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${MY_KEY}`, {
ย ย ย ย ย ย ย ย method: "POST",
ย ย ย ย ย ย ย ย headers: {"Content-Type": "application/json"},
ย ย ย ย ย ย ย ย body: JSON.stringify({contents: [{parts: [{text: "ุงูุชุฑุญ 3 ูุชุจ ูุทูุงุจ ุงูุนูู ุงูุดุฑุนู ุจุฃุณูุงุก ููุท ุชูุตููุง ูุงุตูุฉ."}]}]})
ย ย ย ย ย ย });
ย ย ย ย ย ย const data = await res.json();
ย ย ย ย ย ย const books = data.candidates[0].content.parts[0].text.split(',');
ย ย ย ย ย ย list.innerHTML = books.map(b => `<div style="background:var(--g); padding:10px; border-radius:12px; min-width:100px; color:var(--p); font-size:11px; font-weight:bold; text-align:center;">${b.trim()}</div>`).join('');
ย ย ย ย } catch(e) { list.innerHTML = "ุฎุทุฃ ูู ุงูุชุญููู"; }
ย ย }

ย ย // ุฅุถุงูุฉ ูุชุงุจ ุฌุฏูุฏ (ูููุงูู ุญูุฒูู)
ย ย function addNewBook() {
ย ย ย ย const t = document.getElementById('bTitle').value;
ย ย ย ย const a = document.getElementById('bAudio').value;
ย ย ย ย const i = document.getElementById('bImg').value || 'https://via.placeholder.com/150';
ย ย ย ยย
ย ย ย ย if(!t || !a) return alert("ูุง ุญูุฒูู ุนุจู ุงูุจูุงูุงุช ูุงููุฉ!");
ย ย ย ยย
ย ย ย ย const card = `
ย ย ย ย ย ย <div class="book-card" onclick="playAudio('${t}', '${a}', 'book_${Date.now()}')">
ย ย ย ย ย ย ย ย <img src="${i}">
ย ย ย ย ย ย ย ย <h4>${t}</h4>
ย ย ย ย ย ย ย ย <small style="color:var(--gray)">ูุชุงุจ ูุถุงู ุญุฏูุซุงู</small>
ย ย ย ย ย ย </div>`;
ย ย ย ย document.getElementById('grid').innerHTML += card;
ย ย ย ย alert("ุชู ูุดุฑ ุงููุชุงุจ ุจูุฌุงุญ ูู ุงูููุชุจุฉ! ๐");
ย ย ย ย nav('home', document.querySelector('.fa-home').parentElement);
ย ย }
</script>
</body>
</html> 
