<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ¨ÙŠØ§Ù† | Ø§Ù„Ø±ÙÙŠÙ‚ Ø§Ù„Ø°ÙƒÙŠ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø¨Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù„Ù Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªØ­Ø¯ÙŠØ« */
        :root { --p: #3E2723; --g: #D4AF37; --bg: #F4F1EA; --w: #ffffff; }
        body { background: var(--bg); font-family: sans-serif; margin: 0; padding-bottom: 90px; direction: rtl; }
        
        .main-header { background: var(--p); color: var(--w); padding: 30px; text-align: center; border-radius: 0 0 30px 30px; }
        .main-logo { width: 70px; background: white; padding: 5px; border-radius: 15px; margin-bottom: 10px; }
        
        .page-section { display: none; padding: 20px; }
        .page-section.active { display: block; animation: fadeIn 0.4s; }
        
        .book-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 15px; }
        .book-card { background: white; border-radius: 15px; padding: 10px; text-align: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
        .book-card img { width: 100%; height: 180px; object-fit: cover; border-radius: 10px; }

        .main-nav { position: fixed; bottom: 0; width: 100%; background: white; display: flex; justify-content: space-around; padding: 15px 0; border-top: 1px solid #ddd; z-index: 1000; }
        .nav-item { background: none; border: none; color: #999; display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        .nav-item.active { color: var(--p); }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

<header class="main-header">
    <img src="logo.png" class="main-logo">
    <h1>ØªØ¨ÙŠØ§Ù†</h1>
    <p>Ø±ÙÙŠÙ‚ Ø­ÙŠØ²ÙˆÙ… Ø§Ù„Ø°ÙƒÙŠ â˜•</p>
</header>

<main>
    <section id="home-sec" class="page-section active">
        <h3 style="color:var(--p)">ğŸ“š Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø´Ø§Ù…Ù„Ø©</h3>
        <div id="mainGrid" class="book-grid">
            </div>
    </section>

    <section id="list-sec" class="page-section">
        <h3>ğŸ”– ÙƒØªØ¨ÙŠ Ø§Ù„Ù…ÙØ¶Ù„Ø©</h3>
        <div id="mylistGrid" class="book-grid"></div>
    </section>

    <section id="settings-sec" class="page-section">
        <div style="text-align:center; padding:20px;">
            <i class="fas fa-user-circle" style="font-size:60px; color:var(--g)"></i>
            <h3>Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ</h3>
            <p>Ø¥ØµØ¯Ø§Ø± Ø­ÙŠØ²ÙˆÙ… Ø§Ù„Ø°Ù‡Ø¨ÙŠ 16.0</p>
            <button onclick="window.open('https://t.me/TibyanBooks_bot')" style="padding:10px 20px; background:var(--p); color:white; border:none; border-radius:10px;">Ø¯Ø¹Ù… ØªÙ„ÙŠØ¬Ø±Ø§Ù…</button>
        </div>
    </section>
</main>

<nav class="main-nav">
    <button class="nav-item active" onclick="showPage('home-sec', this)"><i class="fas fa-home"></i><span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span></button>
    <button class="nav-item" onclick="addNewBook()"><i class="fas fa-plus-circle"></i><span>Ø£Ø¶Ù</span></button>
    <button class="nav-item" onclick="showPage('list-sec', this)"><i class="fas fa-heart"></i><span>Ù‚Ø§Ø¦Ù…ØªÙŠ</span></button>
    <button class="nav-item" onclick="showPage('settings-sec', this)"><i class="fas fa-cog"></i><span>Ø£Ù†Ø§</span></button>
</nav>

<script>
    // Ø§Ù„Ù…Ø® Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠ Ø¨Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù„Ù Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©
    let db = JSON.parse(localStorage.getItem('tibyan_db')) || [
        { title: "Ù…Ù‚Ø¯Ù…Ø© Ø§Ø¨Ù† Ø®Ù„Ø¯ÙˆÙ†", cover: "https://via.placeholder.com/150/3E2723/white?text=Tibyan" },
        { title: "ØªÙØ³ÙŠØ± Ø§Ù„Ø¬Ù„Ø§Ù„ÙŠÙ†", cover: "https://via.placeholder.com/150/D4AF37/white?text=Tibyan" }
    ];

    function showPage(id, btn) {
        document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        btn.classList.add('active');
    }

    function render() {
        const grid = document.getElementById('mainGrid');
        grid.innerHTML = '';
        db.forEach(book => {
            grid.innerHTML += `
                <div class="book-card">
                    <img src="${book.cover}">
                    <h4>${book.title}</h4>
                </div>`;
        });
    }

    function addNewBook() {
        const t = prompt("Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙƒØªØ§Ø¨ØŸ");
        if(t) {
            db.push({ title: t, cover: "https://via.placeholder.com/150/3E2723/white?text="+t });
            localStorage.setItem('tibyan_db', JSON.stringify(db));
            render();
        }
    }

    window.onload = render;
</script>

</body>
</html>
