<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙƒØªØ¨Ø© ØªØ¨ÙŠØ§Ù† | Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ù„Ø­ÙŠØ²ÙˆÙ…</title>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- 1. Ø§Ù„Ø£Ù„ÙˆØ§Ù† ÙˆØ§Ù„ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© --- */
        :root {
            --p: #2C1B18;    /* Ø§Ù„Ø¨Ù†ÙŠ Ø§Ù„ØºØ§Ù…Ù‚ (Ù„ÙˆÙ† Ø§Ù„ÙØ®Ø§Ù…Ø©) */
            --g: #D4AF37;    /* Ø§Ù„Ø°Ù‡Ø¨ÙŠ Ø§Ù„Ù…Ù„ÙƒÙŠ */
            --bg: #FDFCF9;   /* Ù„ÙˆÙ† Ø§Ù„ÙˆØ±Ù‚ Ø§Ù„Ù‚Ø¯ÙŠÙ… */
            --card: #ffffff; /* Ù„ÙˆÙ† Ø§Ù„ÙƒØ±ÙˆØª */
            --text: #2C1B18; /* Ù„ÙˆÙ† Ø§Ù„Ø®Ø· */
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            padding-bottom: 150px; /* Ù…Ø³Ø§Ø­Ø© Ù…Ø´Ø§Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙÙ„ÙŠØ© */
            direction: rtl;
            overflow-x: hidden;
        }

        /* --- 2. Ø§Ù„Ù‡ÙŠØ¯Ø± Ø§Ù„Ø¹Ù„ÙˆÙŠ --- */
        .main-header {
            background: var(--p);
            color: white;
            padding: 30px 20px;
            text-align: center;
            border-radius: 0 0 40px 40px;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            transition: 0.3s;
        }

        .main-header h3 {
            margin: 0;
            font-size: 24px;
            letter-spacing: 1px;
        }

        /* --- 3. Ø£Ù‚Ø³Ø§Ù… Ø§Ù„ØµÙØ­Ø© --- */
        .page-section {
            display: none;
            padding: 20px;
            animation: fadeIn 0.5s ease-in-out;
        }

        .active-section {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- 4. Ø´Ø¨ÙƒØ© Ø§Ù„ÙƒØªØ¨ (Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©) --- */
        .book-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* ÙƒØªØ§Ø¨ÙŠÙ† Ø¬Ù†Ø¨ Ø¨Ø¹Ø¶ */
            gap: 20px;
            padding: 10px;
        }

        .book-card {
            background: var(--card);
            border-radius: 20px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            cursor: pointer;
            transition: 0.3s;
            border: 1px solid #eee;
        }

        .book-card:active {
            transform: scale(0.95);
        }

        .book-card img {
            width: 100%;
            height: 160px;
            border-radius: 15px;
            object-fit: cover;
            margin-bottom: 12px;
        }

        .book-card h4 {
            margin: 0;
            font-size: 16px;
            color: var(--p);
        }

        /* --- 5. ÙˆØ§Ø¬Ù‡Ø© Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØª (Modal) --- */
        .voice-overlay {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            display: none; /* Ù…Ø®ÙÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹ */
            justify-content: center;
            align-items: center;
            z-index: 3000;
        }

        .voice-modal {
            background: white;
            width: 90%;
            max-width: 400px;
            border-radius: 30px;
            padding: 25px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }

        .voice-option {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 18px;
            margin-bottom: 10px;
            background: #f9f9f9;
            border-radius: 15px;
            cursor: pointer;
            transition: 0.2s;
            border: 1px solid #eee;
        }

        .voice-option:hover {
            background: #f0f0f0;
            border-color: var(--g);
        }

        .voice-option i {
            color: var(--g);
            font-size: 20px;
        }

        /* --- 6. Ù…Ø´ØºÙ„ Ø§Ù„ØµÙˆØª Ø§Ù„Ø³ÙÙ„ÙŠ --- */
        .audio-player-bar {
            position: fixed;
            bottom: 90px;
            width: 92%;
            left: 4%;
            background: var(--p);
            color: white;
            padding: 15px;
            border-radius: 25px;
            display: none; /* ÙŠØ¸Ù‡Ø± Ø¹Ù†Ø¯ Ø§Ù„ØªØ´ØºÙŠÙ„ */
            align-items: center;
            gap: 15px;
            z-index: 2000;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* --- 7. Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø³ÙÙ„ÙŠ (Navigation) --- */
        .nav-bar {
            position: fixed;
            bottom: 0;
            width: 100%;
            background: var(--card);
            display: flex;
            justify-content: space-around;
            padding: 15px 0;
            box-shadow: 0 -5px 25px rgba(0,0,0,0.05);
            z-index: 2500;
        }

        .nav-item {
            background: none;
            border: none;
            color: #999;
            font-size: 12px;
            flex: 1;
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
        }

        .nav-item i {
            display: block;
            font-size: 24px;
            margin-bottom: 5px;
        }

        .nav-item.active {
            color: var(--p);
            font-weight: bold;
        }

        #admin-btn {
            display: none; /* Ù…Ø®ÙÙŠ Ù„Ù„Ù…Ø§Ù„Ùƒ ÙÙ‚Ø· */
            color: var(--g);
        }

        /* --- 8. Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ (ØµÙØ­Ø© Ø§Ù„Ø¥Ø¶Ø§ÙØ©) --- */
        .form-container {
            background: white;
            padding: 25px;
            border-radius: 25px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
        }

        input {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border-radius: 15px;
            border: 1px solid #ddd;
            box-sizing: border-box;
            font-size: 16px;
        }

        .action-btn {
            width: 100%;
            padding: 18px;
            background: var(--p);
            color: white;
            border: none;
            border-radius: 15px;
            font-weight: bold;
            font-size: 16px;
            cursor: pointer;
        }
    </style>
</head>
<body onload="checkStatus()">

<header class="main-header" onclick="activateAdmin()">
    <h3 id="logo">Ù…ÙƒØªØ¨Ø© ØªØ¨ÙŠØ§Ù† âœ¨</h3>
    <small id="status-hint" style="opacity: 0.6; font-size: 11px;">Ø§Ù„Ø£ØµÙˆØ§Øª Ù…ÙØ®ØªØ§Ø±Ø© Ø¨Ø¹Ù†Ø§ÙŠØ© Ù„Ø±Ø§Ø­Ø© Ø§Ù„Ø£Ø°Ù† ğŸ¤</small>
</header>

<main>
    <section id="home" class="page-section active-section">
        <div id="grid" class="book-grid">
            <div class="book-card" onclick="openVoiceSelection('Ù…Ø®ØªØµØ± Ø²Ø§Ø¯ Ø§Ù„Ù…Ø¹Ø§Ø¯')">
                <img src="https://via.placeholder.com/150/2C1B18/white?text=Ø²Ø§Ø¯+Ø§Ù„Ù…Ø¹Ø§Ø¯">
                <h4>Ù…Ø®ØªØµØ± Ø²Ø§Ø¯ Ø§Ù„Ù…Ø¹Ø§Ø¯</h4>
                <small style="color:var(--g)">Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙˆØ§Øª ğŸ§</small>
            </div>
        </div>
    </section>

    <section id="add-panel" class="page-section">
        <div class="form-container">
            <h3 style="text-align: center; margin-bottom: 20px;">Ø¥Ø¶Ø§ÙØ© ÙƒØªØ§Ø¨ Ø¬Ø¯ÙŠØ¯ Ù„Ù„Ù…ÙƒØªØ¨Ø© ğŸš€</h3>
            <input type="text" id="bTitle" placeholder="Ø§Ø³Ù… Ø§Ù„ÙƒØªØ§Ø¨">
            <input type="text" id="bImg" placeholder="Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„ØºÙ„Ø§Ù">
            <button class="action-btn" onclick="publishBook()">Ù†Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨ Ù„ÙƒÙ„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</button>
        </div>
    </section>

    <section id="profile" class="page-section">
        <div class="form-container" style="text-align: center;">
            <h4>Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù…ÙƒØªØ¨ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©</h4>
            <p style="color:#666">Ù‡Ù†Ø§ Ø³ØªØ¬Ø¯ ØªÙØ¶ÙŠÙ„Ø§ØªÙƒ ÙˆØ³Ø¬Ù„ Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù‚Ø±ÙŠØ¨Ø§Ù‹.</p>
        </div>
    </section>
</main>

<div id="voiceOverlay" class="voice-overlay" onclick="closeVoices()">
    <div class="voice-modal" onclick="event.stopPropagation()">
        <h4 id="modalTitle" style="text-align: center; color: var(--p); margin-bottom: 20px;">Ø§Ø®ØªØ± Ø§Ù„ØµÙˆØª Ø§Ù„Ù…ÙØ¶Ù„:</h4>
        
        <div class="voice-option" onclick="startAudio('ØµÙˆØª Ø§Ù„Ù…ÙƒØªØ¨Ø© ğŸ“š')">
            <span>ØµÙˆØª Ø§Ù„Ù…ÙƒØªØ¨Ø© ğŸ“š</span> <i class="fas fa-play-circle"></i>
        </div>
        <div class="voice-option" onclick="startAudio('ØµÙˆØª Ø§Ù„Ù…Ø¹Ø±ÙØ© ğŸ§ ')">
            <span>ØµÙˆØª Ø§Ù„Ù…Ø¹Ø±ÙØ© ğŸ§ </span> <i class="fas fa-play-circle"></i>
        </div>
        <div class="voice-option" onclick="startAudio('ØµÙˆØª Ø§Ù„Ø£Ø¯Ø¨ âœï¸')">
            <span>ØµÙˆØª Ø§Ù„Ø£Ø¯Ø¨ âœï¸</span> <i class="fas fa-play-circle"></i>
        </div>
        <div class="voice-option" onclick="startAudio('ØµÙˆØª Ù‡Ø§Ø¯Ø¦ ğŸ¤')">
            <span>ØµÙˆØª Ù‡Ø§Ø¯Ø¦ ğŸ¤</span> <i class="fas fa-play-circle"></i>
        </div>
        <div class="voice-option" onclick="startAudio('ØµÙˆØª Ø§Ù„Ù„ÙŠÙ„ ğŸŒ™')">
            <span>ØµÙˆØª Ø§Ù„Ù„ÙŠÙ„ ğŸŒ™</span> <i class="fas fa-play-circle"></i>
        </div>
        
        <button onclick="closeVoices()" style="width:100%; background:none; border:none; color:#888; margin-top:10px;">Ø¥Ù„ØºØ§Ø¡</button>
    </div>
</div>

<div id="playerBar" class="audio-player-bar">
    <div style="flex: 1;">
        <div id="currentTrack" style="font-size: 12px; font-weight: bold; margin-bottom: 5px;">...</div>
        <audio id="mainAudio" controls style="width: 100%; height: 35px;"></audio>
    </div>
    <button onclick="document.getElementById('playerBar').style.display='none'" style="background:none; border:none; color:white; font-size:20px;">&times;</button>
</div>

<nav class="nav-bar">
    <button class="nav-item active" onclick="nav('home', this)">
        <i class="fas fa-home"></i>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    </button>
    <button id="admin-btn" class="nav-item" onclick="nav('add-panel', this)">
        <i class="fas fa-plus-circle"></i>Ø¥Ø¶Ø§ÙØ©
    </button>
    <button class="nav-item" onclick="nav('profile', this)">
        <i class="fas fa-user-circle"></i>Ø£Ù†Ø§
    </button>
</nav>

<script>
    let adminClicks = 0;
    const audioPlayer = document.getElementById('mainAudio');

    // --- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø§Ù„Ùƒ Ø§Ù„Ø³Ø±ÙŠ ---
    function activateAdmin() {
        adminClicks++;
        if (adminClicks >= 5) {
            localStorage.setItem('hizoomStatus', 'active');
            checkStatus();
            alert("ØªÙ… ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø§Ù„Ùƒ! Ø²Ø± Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ù…ØªØ§Ø­ Ù„Ùƒ Ø§Ù„Ø¢Ù† ÙŠØ§ Ø­ÙŠØ²ÙˆÙ… ğŸ¦¾");
            adminClicks = 0;
        }
    }

    function checkStatus() {
        const status = localStorage.getItem('hizoomStatus');
        const adminBtn = document.getElementById('admin-btn');
        if (status === 'active') {
            adminBtn.style.display = 'block';
            document.getElementById('status-hint').innerText = "ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø§Ù„Ùƒ Ù…ÙØ¹Ù„ âœ…";
        }
        loadBooks();
    }

    // --- ÙˆØ¸Ø§Ø¦Ù Ø§Ù„ØªÙ†Ù‚Ù„ ---
    function nav(sectionId, btn) {
        document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active-section'));
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        
        document.getElementById(sectionId).classList.add('active-section');
        btn.classList.add('active');
    }

    // --- ÙˆØ¸Ø§Ø¦Ù Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØµÙˆØª ÙˆØ§Ù„ØªØ´ØºÙŠÙ„ ---
    function openVoiceSelection(bookTitle) {
        document.getElementById('modalTitle').innerText = "ÙƒØªØ§Ø¨: " + bookTitle;
        document.getElementById('voiceOverlay').style.display = 'flex';
    }

    function closeVoices() {
        document.getElementById('voiceOverlay').style.display = 'none';
    }

    function startAudio(voiceLabel) {
        closeVoices();
        document.getElementById('playerBar').style.display = 'flex';
        document.getElementById('currentTrack').innerText = "Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ø¨Ù€ " + voiceLabel;
        
        // Ù‡Ù†Ø§ ÙŠØªÙ… ÙˆØ¶Ø¹ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„ØªÙ‚Ù†ÙŠ (Ù„Ù„Ù…Ø¨Ø±Ù…Ø¬)
        audioPlayer.src = "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3"; 
        audioPlayer.play();
    }

    // --- ÙˆØ¸Ø§Ø¦Ù Ø¥Ø¶Ø§ÙØ© ÙˆÙ†Ø´Ø± Ø§Ù„ÙƒØªØ¨ ---
    function publishBook() {
        const title = document.getElementById('bTitle').value;
        const img = document.getElementById('bImg').value || 'https://via.placeholder.com/150';

        if (!title) return alert("ÙŠØ§ Ø­ÙŠØ²ÙˆÙ… Ø¹Ø¨ÙŠ Ø§Ø³Ù… Ø§Ù„ÙƒØªØ§Ø¨!");

        let books = JSON.parse(localStorage.getItem('hizoom_library')) || [];
        books.push({ title, img });
        localStorage.setItem('hizoom_library', JSON.stringify(books));

        alert("ØªÙ… Ø§Ù„Ù†Ø´Ø± Ø¨Ù†Ø¬Ø§Ø­!");
        document.getElementById('bTitle').value = '';
        document.getElementById('bImg').value = '';
        
        loadBooks();
        nav('home', document.querySelector('.nav-item'));
    }

    function loadBooks() {
        const grid = document.getElementById('grid');
        let books = JSON.parse(localStorage.getItem('hizoom_library')) || [];
        
        // Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø´Ø¨ÙƒØ© (Ø§Ù„ÙƒØªØ§Ø¨ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ + Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ù…Ø¶Ø§ÙØ©)
        grid.innerHTML = `
            <div class="book-card" onclick="openVoiceSelection('Ù…Ø®ØªØµØ± Ø²Ø§Ø¯ Ø§Ù„Ù…Ø¹Ø§Ø¯')">
                <img src="https://via.placeholder.com/150/2C1B18/white?text=Ø²Ø§Ø¯+Ø§Ù„Ù…Ø¹Ø§Ø¯">
                <h4>Ù…Ø®ØªØµØ± Ø²Ø§Ø¯ Ø§Ù„Ù…Ø¹Ø§Ø¯</h4>
                <small style="color:var(--g)">Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙˆØ§Øª ğŸ§</small>
            </div>
        `;

        books.forEach(book => {
            grid.innerHTML += `
                <div class="book-card" onclick="openVoiceSelection('${book.title}')">
                    <img src="${book.img}">
                    <h4>${book.title}</h4>
                    <small style="color:var(--g)">Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙˆØ§Øª ğŸ§</small>
                </div>
            `;
        });
    }
</script>
</body>
</html>
